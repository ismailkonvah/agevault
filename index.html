<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- TODO: Set the document title to the name of your application -->
  <title>AgeVault</title>
  <meta name="description" content="Confidential age verification using FHEVM" />
  <meta name="author" content="AgeVault Team" />

  <meta property="og:title" content="AgeVault" />
  <meta property="og:description" content="Confidential age verification using FHEVM" />
  <meta property="og:type" content="website" />

  <meta name="twitter:card" content="summary_large_image" />
  <script>
    // FIX: Intercept and mock Zama status check to bypass CORS/Network blocks
    const originalFetch = window.fetch;
    window.fetch = async function (url, options) {
      if (typeof url === 'string' && url.includes('status.zama.org')) {
        console.log('üõ°Ô∏è Intercepted Zama Status Check:', url);
        return new Response(JSON.stringify({ status: 'ok', mocked: true }), {
          status: 200,
          headers: { 'Content-Type': 'application/json' }
        });
      }
      return originalFetch(url, options);
    };
  </script>
  <script src="/relayer-sdk.js"></script>
  <script>
    // FIX: Initialize SDK with correct WASM paths
    if (window.RelayerSDK || window.relayerSDK) {
      const SDK = window.RelayerSDK || window.relayerSDK;
      console.log('üîß Initializing Relayer SDK with WASM paths...');
      SDK.initSDK({
        tfheParams: { wasmUrl: '/tfhe_bg.wasm' },
        kmsParams: { wasmUrl: '/kms_lib_bg.wasm' }
      }).then(() => {
        console.log('‚úÖ Relayer SDK initialized with WASM files');
      }).catch(err => {
        console.error('‚ùå SDK initialization failed:', err);
      });
    }
  </script>
</head>

<body>
  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>
</body>

</html>